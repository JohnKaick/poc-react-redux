webpackJsonp([9],{1009:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(1181),o=t(1183);n.default=Object(o.a)(a.a)},1053:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(1054),l=(t.n(i),t(0)),c=t.n(l),u=t(447),s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),p=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onScroll=t.onScroll.bind(t),t.state={onTop:!0},t.superMenu=null,t}return r(n,e),s(n,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(e){var n=document.documentElement.scrollTop;n>57&&this.state.onTop?this.setState({onTop:!1}):n<57&&!this.state.onTop&&this.setState({onTop:!0})}},{key:"render",value:function(){var e=this.props,n=(e.children,e.menus);return c.a.createElement("div",null,this.state.onTop?null:c.a.createElement("div",{style:{height:40}}),c.a.createElement("div",{className:"super-menu"},c.a.createElement(u.r,{fixed:this.state.onTop?null:"top",color:"blue",inverted:!0,size:this.state.onTop?null:"huge",style:{minHeight:47}},c.a.createElement(u.e,null,n.map(function(e){return e})))))}}]),n}(c.a.Component);n.a=p},1054:function(e,n,t){var a=t(1055);"string"===typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;t(1007)(a,o);a.locals&&(e.exports=a.locals)},1055:function(e,n,t){n=e.exports=t(1006)(!0),n.push([e.i,".super-menu{background-color:#2185d0;margin-bottom:20px}","",{version:3,sources:["C:/Users/alanl/Documents/GitHub/wi-app/src/components/super-menu/styles.css"],names:[],mappings:"AAAA,YACI,yBAA0B,AAC1B,kBAAoB,CACvB",file:"styles.css",sourcesContent:[".super-menu {\r\n    background-color: #2185D0;\r\n    margin-bottom: 20px;\r\n}\r\n"],sourceRoot:""}])},1122:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(0),l=t.n(i),c=(t(447),function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}()),u=function(e){function n(){var e,t,r,i;a(this,n);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return t=r=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.formUpload=null,r.inputUpload=null,i=t,o(r,i)}return r(n,e),c(n,[{key:"handleClick",value:function(){this.formUpload.reset(),this.inputUpload.click()}},{key:"handleUpload",value:function(e){var n=e.target.files;this.props.carregar&&this.props.carregar(n)}},{key:"render",value:function(){var e=this,n=this.props,t=n.control,a=(n.carregando,Object.assign({},this.props,{multiple:void 0,carregar:void 0,control:void 0})),o=t;return l.a.createElement("div",null,l.a.createElement(o,Object.assign({},a,{onClick:this.handleClick.bind(this)})),l.a.createElement("form",{ref:function(n){e.formUpload=n}},l.a.createElement("input",{multiple:this.props.multiple,ref:function(n){e.inputUpload=n},type:"file",onChange:this.handleUpload.bind(this),style:{display:"none"}})))}}]),n}(l.a.Component);n.a=u},1142:function(e,n,t){"use strict";function a(e){return p.a.post("/identity/conta/autenticar",{login:e.usuario,senha:e.senha})}function o(e,n){return p.a.post("/identity/conta/alterar-senha",{senhaNova:n,senhaAtual:e})}function r(e){return p.a.post("/identity/conta/confirmar-conta/"+e)}function i(e){return p.a.post("/identity/conta/recuperar-senha",{email:e.email})}function l(e,n){return p.a.post("/identity/conta/recuperar-senha-cb/"+n,{senha:e})}function c(e){return p.a.post("/identity/conta/cadastrar",{exibicao:e.exibicao,email:e.email,senha:e.senha})}function u(){return p.a.get("/identity/server-status")}n.b=a,n.a=o,n.d=r,n.f=i,n.g=l,n.c=c,n.e=u;var s=t(48),p=t.n(s)},1181:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var l=t(0),c=t.n(l),u=t(448),s=t(1182),p=t(1142),h=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),f=function(e){function n(e){o(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.change=t.change.bind(t),t.changePassword=t.changePassword.bind(t),t.onSalvar=t.onSalvar.bind(t),t.onAlterarSenha=t.onAlterarSenha.bind(t),t.uploadAvatar=t.uploadAvatar.bind(t),t.eventLoad=null,t.state={senhaAtual:"",novaSenha:"",repetirNovaSenha:""},t}return i(n,e),h(n,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoad(),this.eventLoad=u.a.addListener("perfil-load",function(){e.props.onLoad()})}},{key:"change",value:function(e,n){var t=n.name,a=n.value;this.props.onChange(t,a)}},{key:"changePassword",value:function(e,n){var t=n.name,o=n.value;this.setState(a({},t,o))}},{key:"onSalvar",value:function(){this.props.onSave(this.props.usuario)}},{key:"onAlterarSenha",value:function(){var e=this.state.senhaAtual,n=this.state.novaSenha;n!==this.state.repetirNovaSenha?u.a.emit("mensagem-erro","Verifique a digita\xe7\xe3o da sua nova senha."):Object(p.a)(e,n).then(function(e){u.a.emit("perfil-load"),u.a.emit("mensagem-sucesso","Senha alterada com sucesso.")}).catch(function(e){"conta_invalid"===e.response.data.message&&u.a.emit("mensagem-erro","Sua senha atual est\xe1 incorreta."),console.log(e)})}},{key:"uploadAvatar",value:function(e){this.props.onUploadAvatar(e[0])}},{key:"render",value:function(){return c.a.createElement(s.a,Object.assign({},this.props,this.state,{change:this.change,changePassword:this.changePassword,onSalvar:this.onSalvar,onAlterarSenha:this.onAlterarSenha,uploadAvatar:this.uploadAvatar}))}}]),n}(c.a.Component);n.a=f},1182:function(e,n,t){"use strict";var a=t(0),o=t.n(a),r=t(447),i=t(1053),l=t(1122);n.a=function(e){var n=e.senhaAtual,t=e.novaSenha,a=e.repetirNovaSenha,c=e.usuario,u=e.carregando,s=(e.error,e.uploadAvatar),p=e.onSalvar,h=e.onAlterarSenha,f=e.change,m=e.changePassword,d=c||{},v=d.nome,b=void 0===v?"":v,y=d.sobrenome,g=void 0===y?"":y,E=d.exibicao,w=void 0===E?"":E,S=d.email,O=void 0===S?"":S,A=d.telefone,j=void 0===A?"":A,C=d.celular,k=void 0===C?"":C,_=d.avatar,P=void 0===_?"":_;return o.a.createElement("div",null,o.a.createElement(i.a,{menus:[o.a.createElement(r.r.Item,{key:"header",header:!0},"Perfil")]}),o.a.createElement(r.i,{container:!0},o.a.createElement(r.i.Row,null,o.a.createElement(r.i.Column,{width:12},o.a.createElement(r.h,null,o.a.createElement(r.j,{content:"Perfil",subheader:"Informa\xe7\xf5es pessoais"}),o.a.createElement(r.h.Field,{name:"nome",label:"Nome",value:b,control:r.m,onChange:f}),o.a.createElement(r.h.Field,{name:"sobrenome",label:"Sobrenome",value:g,control:r.m,onChange:f}),o.a.createElement(r.h.Field,{name:"exibicao",label:"Exibi\xe7\xe3o",value:w,control:r.m,onChange:f}),o.a.createElement(r.h.Field,{name:"email",label:"E-mail",value:O,control:r.m,onChange:f,disabled:!0}),o.a.createElement(r.h.Group,{widths:"equal"},o.a.createElement(r.h.Field,{name:"telefone",label:"Telefone",value:j,control:r.m,onChange:f}),o.a.createElement(r.h.Field,{name:"celular",label:"Celular",value:k,control:r.m,onChange:f})),o.a.createElement(r.b,{primary:!0,type:"submit",icon:"save",loading:u,content:"Salvar",onClick:p})),o.a.createElement("br",null),o.a.createElement(r.h,null,o.a.createElement(r.j,{content:"Seguran\xe7a",subheader:"Alterar senha de acesso"}),o.a.createElement(r.h.Field,{name:"senhaAtual",label:"Senha atual",control:r.m,type:"password",value:n,onChange:m}),o.a.createElement(r.h.Field,{name:"novaSenha",label:"Nova senha",control:r.m,type:"password",value:t,onChange:m}),o.a.createElement(r.h.Field,{name:"repetirNovaSenha",label:"Repita a nova senha",control:r.m,type:"password",value:a,onChange:m}),o.a.createElement(r.b,{primary:!0,icon:"key",content:"Alterar Senha",onClick:h}))),o.a.createElement(r.i.Column,{width:4},o.a.createElement(r.l,{src:P,fluid:!0,bordered:!0,shape:"rounded"}),o.a.createElement(l.a,{control:r.b,fluid:!0,primary:!0,content:"Enviar avatar",icon:"upload",loading:u,carregar:s,style:{marginTop:6}})))))}},1183:function(e,n,t){"use strict";var a=t(142),o=t(464),r=function(e){var n=e.views.perfil;return{usuario:n.usuario,carregando:n.carregando,erro:n.erro}},i=function(e){return{onChange:function(n,t){e(Object(o.a)(n,t))},onLoad:function(){e(Object(o.b)())},onSave:function(n){e(Object(o.e)(n))},onUploadAvatar:function(n){e(Object(o.h)(n))}}};n.a=function(e){return Object(a.b)(r,i)(e)}}});
//# sourceMappingURL=9.f2ffe0e9.chunk.js.map